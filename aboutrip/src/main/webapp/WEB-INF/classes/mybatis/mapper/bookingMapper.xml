<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="booking">
	<insert id=""></insert>
	
	<select id="event_list" parameterType="map" resultType="com.aboutrip.app.booking.Booking">
				SELECT p.code, product_name, start_date, end_date, upload_date, ishidden, price, img_name
		from product p
		JOIN productdetail d ON p.code=d.code
        JOIN product_img i ON p.code=i.code
		WHERE category_num=#{category_num}
	</select>
	
	<select id="event_count" parameterType="map" resultType="Integer">
		SELECT NVL(COUNT(*), 0)
		FROM product
		WHERE category_num=#{category_num}
	</select>
	
</mapper>